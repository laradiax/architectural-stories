[
  {
    "id": "p1_garage",
    "title": "Garage District",
    "subtitle": "Code Without Borders",
    "theme": "garage",
    "requiredScore": 50,
    "narrativeIntro": "Welcome to ArchPatterns City, Investigator. Your journey begins at a garage startup. The team grew too fast and ignored patterns. The code is tangled, the UI accesses the database directly, and visual bugs are corrupting data. Your mission is to get the house in order.",
    "dominantPattern": "Layers",
    "questions": [
      {
        "id": "q1_mixed",
        "title": "The Tangled Code",
        "problem": "A programmer was asked to change the color of a button on the login screen. To do this, they had to edit files that also contained password validation logic and database commands. The simple visual change ended up creating a bug that corrupted data.",
        "correctId": "layers",
        "wrongOptions": ["client_server", "microkernel", "pipe_filter"],
        "reason": "Layered Architecture separates Presentation, Business, and Data, preventing visual changes from affecting critical rules or data.",
        "difficulty": "easy"
      },
      {
        "id": "q2_untestable",
        "title": "Untestable Logic",
        "problem": "A testing team needs to validate an interest calculation rule, but it is implemented inside the interface button's code, requiring an active database and server to function.",
        "correctId": "layers",
        "wrongOptions": ["mvc", "broker", "p2p"],
        "reason": "Isolating business logic in its own layer allows for unit testing without depending on the interface or database.",
        "difficulty": "easy"
      },
      {
        "id": "q3_spreadsheet",
        "title": "The Spreadsheet of Chaos",
        "problem": "A company manages its clients in a single shared spreadsheet. When two salespeople save at the same time, one overwrites the other's work.",
        "correctId": "client_server",
        "wrongOptions": ["pipe_filter", "soa", "facade"],
        "reason": "Client-Server centralizes data and controls concurrency for multiple access points.",
        "difficulty": "easy"
      },
      {
        "id": "q21_business_rule_dup",
        "title": "Duplicate Rule",
        "problem": "The same discount calculation rule was implemented in both the UI and the backend, and now the values diverge.",
        "correctId": "layers",
        "wrongOptions": ["mvc", "proxy", "p2p"],
        "reason": "Separating responsibilities into layers prevents the duplication of business rules.",
        "difficulty": "easy"
      },
      {
        "id": "q22_direct_db_ui",
        "title": "The Curious Screen",
        "problem": "The interface performs SQL queries directly to generate reports.",
        "correctId": "layers",
        "wrongOptions": ["broker", "microkernel", "pipe_filter"],
        "reason": "The presentation layer should not access data directly.",
        "difficulty": "easy"
      },
      {
        "id": "q23_local_files",
        "title": "Shared Local Files",
        "problem": "Employees share JSON files via email to synchronize data.",
        "correctId": "client_server",
        "wrongOptions": ["p2p", "mvc", "adapter"],
        "reason": "Client-Server centralizes data, preventing inconsistency.",
        "difficulty": "easy"
      }
    ]
  },
  {
    "id": "p2_commercial",
    "title": "Commercial Center",
    "subtitle": "Monstrous Interfaces",
    "theme": "corporate",
    "requiredScore": 100,
    "narrativeIntro": "You've been promoted. Now you face corporate systems with massive screens and unmaintainable code. Separating responsibilities is a matter of survival.",
    "dominantPattern": "Separation",
    "questions": [
      {
        "id": "q4_giant_file",
        "title": "The 5,000-Line File",
        "problem": "A single web page contains HTML, ID validation, and SQL commands. Any change is risky.",
        "correctId": "mvc",
        "wrongOptions": ["layers", "microkernel", "proxy"],
        "reason": "MVC separates Model, View, and Controller, reducing coupling and facilitating maintenance.",
        "difficulty": "medium"
      },
      {
        "id": "q5_video_proc",
        "title": "The Inflexible Processor",
        "problem": "A single function handles resizing, watermarking, and video compression. The client wants to use only one of these features.",
        "correctId": "pipe_filter",
        "wrongOptions": ["mvc", "eda", "saga"],
        "reason": "Pipe and Filter divides processing into independent and reusable filters.",
        "difficulty": "medium"
      },
      {
        "id": "q17_proxy",
        "title": "The Ghost Image",
        "problem": "A page loads 100 high-resolution images at once, taking minutes to open.",
        "correctId": "proxy",
        "wrongOptions": ["adapter", "facade", "singleton"],
        "reason": "Proxy allows for Lazy Loading of heavy objects.",
        "difficulty": "medium"
      },
      {
        "id": "q10_microkernel",
        "title": "The Unstable Browser",
        "problem": "A new browser wants to keep its core small, but adding an ad-blocker and translator could compromise stability.",
        "correctId": "microkernel",
        "wrongOptions": ["mvc", "layers", "broker"],
        "reason": "Microkernel keeps a minimal core and adds features as plugins.",
        "difficulty": "medium"
      },
      {
        "id": "q24_controller_bloat",
        "title": "Bloated Controller",
        "problem": "The Controller contains complex business rules and persistence logic.",
        "correctId": "mvc",
        "wrongOptions": ["layers", "microkernel", "broker"],
        "reason": "In MVC, the Controller coordinates, but rules should reside in the Model.",
        "difficulty": "medium"
      },
      {
        "id": "q25_pipeline_reuse",
        "title": "Reusable Steps",
        "problem": "A data system needs to apply validation, normalization, and encryption in a reusable sequence.",
        "correctId": "pipe_filter",
        "wrongOptions": ["mvc", "facade", "adapter"],
        "reason": "Pipe and Filter allows the composition of independent steps.",
        "difficulty": "medium"
      },
      {
        "id": "q26_heavy_object",
        "title": "Heavy Object",
        "problem": "A report takes 10 seconds to load, even when the user is not viewing it.",
        "correctId": "proxy",
        "wrongOptions": ["singleton", "observer", "layers"],
        "reason": "Proxy can delay the creation of expensive objects (lazy loading).",
        "difficulty": "medium"
      },
      {
        "id": "q27_plugin_system",
        "title": "Extensible System",
        "problem": "Clients want to add custom modules without modifying the system core.",
        "correctId": "microkernel",
        "wrongOptions": ["mvc", "broker", "p2p"],
        "reason": "Microkernel supports extensions via plugins.",
        "difficulty": "medium"
      }
    ]
  },
  {
    "id": "p3_industrial",
    "title": "Industrial District",
    "subtitle": "Integration War",
    "theme": "legacy",
    "requiredScore": 150,
    "narrativeIntro": "This is where legacy systems live. Fragile integrations and direct dependencies cause cascading failures.",
    "dominantPattern": "Integration",
    "questions": [
      {
        "id": "q7_soa",
        "title": "Point-to-Point Integration",
        "problem": "HR needs to call Finance and Sales directly. If one fails, the entire process stops.",
        "correctId": "soa",
        "wrongOptions": ["mvc", "microkernel", "p2p"],
        "reason": "SOA integrates systems through orchestrated services, avoiding direct dependencies.",
        "difficulty": "hard"
      },
      {
        "id": "q19_bus",
        "title": "The Enterprise Bus",
        "problem": "Dozens of systems are connected point-to-point, creating a chaos of fragile integrations.",
        "correctId": "message_bus",
        "wrongOptions": ["client_server", "layers", "proxy"],
        "reason": "Message Bus standardizes communication between systems.",
        "difficulty": "hard"
      },
      {
        "id": "q15_adapter",
        "title": "The XML-Only Legacy",
        "problem": "A new system sends JSON, but the legacy system only accepts XML.",
        "correctId": "adapter",
        "wrongOptions": ["facade", "proxy", "bridge"],
        "reason": "Adapter translates incompatible interfaces.",
        "difficulty": "medium"
      },
      {
        "id": "q11_broker",
        "title": "The Task Queue",
        "problem": "A user uploads a file and has to wait 30 seconds for processing to finish.",
        "correctId": "broker",
        "wrongOptions": ["mvc", "client_server", "p2p"],
        "reason": "Broker uses queues to decouple producer and consumer.",
        "difficulty": "medium"
      },
      {
        "id": "q28_async_processing",
        "title": "Background Processing",
        "problem": "A system needs to process thousands of long-running requests without blocking users.",
        "correctId": "broker",
        "wrongOptions": ["mvc", "layers", "proxy"],
        "reason": "Queues decouple the submission from the actual processing.",
        "difficulty": "medium"
      },
      {
        "id": "q29_standard_integration",
        "title": "Standardized Contract",
        "problem": "Heterogeneous systems need to integrate via well-defined contracts.",
        "correctId": "soa",
        "wrongOptions": ["mvc", "p2p", "pipe_filter"],
        "reason": "SOA uses standardized service contracts.",
        "difficulty": "hard"
      },
      {
        "id": "q30_event_notification",
        "title": "Decoupled Notification",
        "problem": "Several systems need to react when an order is created.",
        "correctId": "pub_sub",
        "wrongOptions": ["facade", "proxy", "mvc"],
        "reason": "Publish-Subscribe allows multiple subscribers to react to events.",
        "difficulty": "hard"
      },
      {
        "id": "q31_format_bridge",
        "title": "Incompatible Format",
        "problem": "An external API uses a different protocol than the internal one.",
        "correctId": "adapter",
        "wrongOptions": ["bridge", "proxy", "observer"],
        "reason": "Adapter converts incompatible interfaces.",
        "difficulty": "medium"
      }
    ]
  },
  {
    "id": "p4_digital",
    "title": "Digital District",
    "subtitle": "Scale or Collapse",
    "theme": "cloud",
    "requiredScore": 180,
    "narrativeIntro": "The digital city has grown exponentially. Now we need to scale without bringing everything down.",
    "dominantPattern": "Distributed",
    "questions": [
      {
        "id": "q9_microservices",
        "title": "The System That Couldn't Handle Success",
        "problem": "The app exploded in popularity, and the entire system freezes during peak times.",
        "correctId": "microservices",
        "wrongOptions": ["soa", "client_server", "monolith"],
        "reason": "Microservices allow parts of the system to scale independently.",
        "difficulty": "hard"
      },
      {
        "id": "q6_eda",
        "title": "The Stuck Purchase",
        "problem": "If the Email system fails, the entire purchase fails.",
        "correctId": "eda",
        "wrongOptions": ["mvc", "pipe_filter", "proxy"],
        "reason": "EDA decouples systems via asynchronous communication.",
        "difficulty": "hard"
      },
      {
        "id": "q8_pubsub",
        "title": "Inflexible News Feed",
        "problem": "A publisher needs to know all subscribers and breaks when new ones are added.",
        "correctId": "pub_sub",
        "wrongOptions": ["observer", "mediator", "chain"],
        "reason": "Publishâ€“Subscribe decouples publishers and subscribers through topics.",
        "difficulty": "hard"
      },
      {
        "id": "q12_p2p",
        "title": "Overloaded Server",
        "problem": "Distributing a huge file to millions overloads the central server.",
        "correctId": "p2p",
        "wrongOptions": ["client_server", "broker", "master_slave"],
        "reason": "Peer-to-Peer distributes the load among users.",
        "difficulty": "hard"
      },
      {
        "id": "q32_scaling_component",
        "title": "Partial Scaling",
        "problem": "Only the payments module needs to scale during peak times.",
        "correctId": "microservices",
        "wrongOptions": ["soa", "monolith", "client_server"],
        "reason": "Microservices allow components to be scaled individually.",
        "difficulty": "hard"
      },
      {
        "id": "q33_event_driven",
        "title": "Reactive System",
        "problem": "Services need to react to changes without direct dependency.",
        "correctId": "eda",
        "wrongOptions": ["mvc", "layers", "proxy"],
        "reason": "EDA promotes decoupling via events.",
        "difficulty": "hard"
      },
      {
        "id": "q34_data_sharing",
        "title": "File Distribution",
        "problem": "Users share large files with each other to reduce costs.",
        "correctId": "p2p",
        "wrongOptions": ["client_server", "broker", "mvc"],
        "reason": "Peer-to-Peer distributes load among participants.",
        "difficulty": "hard"
      },
      {
        "id": "q35_message_backbone",
        "title": "Message Backbone",
        "problem": "A company wants a single backbone for integration between multiple systems.",
        "correctId": "message_bus",
        "wrongOptions": ["layers", "proxy", "singleton"],
        "reason": "Message Bus standardizes corporate communication.",
        "difficulty": "hard"
      }
    ]
  },
  {
    "id": "p5_tower",
    "title": "Central Tower",
    "subtitle": "Critical Coordination",
    "theme": "governance",
    "requiredScore": 220,
    "narrativeIntro": "At the top of the city are the critical systems. Coordination and core isolation are essential.",
    "dominantPattern": "Coordination",
    "questions": [
      {
        "id": "q18_mediator",
        "title": "The Air Control Tower",
        "problem": "Planes trying to coordinate landings directly with each other might collide.",
        "correctId": "mediator",
        "wrongOptions": ["observer", "facade", "proxy"],
        "reason": "Mediator centralizes the coordination of multiple interactions.",
        "difficulty": "hard"
      },
      {
        "id": "q14_saga",
        "title": "The Never-ending Transaction",
        "problem": "If an email fails to send, the entire purchase undergoes an unnecessary rollback.",
        "correctId": "saga",
        "wrongOptions": ["two_phase_commit", "singleton", "memento"],
        "reason": "Saga divides transactions into steps with compensating actions.",
        "difficulty": "hard"
      },
      {
        "id": "q13_hexagonal",
        "title": "The Isolated Heart",
        "problem": "Business logic depends directly on HTTP and SQL.",
        "correctId": "hexagonal",
        "wrongOptions": ["mvc", "layers", "microkernel"],
        "reason": "Hexagonal Architecture isolates the application core from external technologies.",
        "difficulty": "hard"
      },
      {
        "id": "q20_blackboard",
        "title": "Impossible Recognition",
        "problem": "No single algorithm can solve handwritten text recognition alone.",
        "correctId": "blackboard",
        "wrongOptions": ["strategy", "chain", "visitor"],
        "reason": "Blackboard allows multiple experts to cooperate for an emergent solution.",
        "difficulty": "hard"
      },
      {
        "id": "q32_scaling_component_v2",
        "title": "Partial Scaling",
        "problem": "Only the payments module needs to scale during peak times.",
        "correctId": "microservices",
        "wrongOptions": ["soa", "monolith", "client_server"],
        "reason": "Microservices allow individual components to scale.",
        "difficulty": "hard"
      },
      {
        "id": "q33_event_driven_v2",
        "title": "Reactive System",
        "problem": "Services need to react to changes without direct dependency.",
        "correctId": "eda",
        "wrongOptions": ["mvc", "layers", "proxy"],
        "reason": "EDA promotes decoupling through events.",
        "difficulty": "hard"
      },
      {
        "id": "q34_data_sharing_v2",
        "title": "File Distribution",
        "problem": "Users share large files among themselves to reduce costs.",
        "correctId": "p2p",
        "wrongOptions": ["client_server", "broker", "mvc"],
        "reason": "Peer-to-Peer distributes the load among participants.",
        "difficulty": "hard"
      },
      {
        "id": "q35_message_backbone_v2",
        "title": "Message Backbone",
        "problem": "A company wants a single backbone for integration between multiple systems.",
        "correctId": "message_bus",
        "wrongOptions": ["layers", "proxy", "singleton"],
        "reason": "Message Bus standardizes corporate communication.",
        "difficulty": "hard"
      }
    ]
  }
]