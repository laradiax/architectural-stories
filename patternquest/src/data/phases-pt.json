[
  {
    "id": "p1_garage",
    "title": "Distrito da Garagem",
    "subtitle": "O Código Sem Fronteiras",
    "theme": "garage",
    "requiredScore": 50,
    "narrativeIntro": "Bem-vindo à ArchPatterns City, Investigador. Sua jornada começa numa startup de garagem. O time cresceu rápido e ignorou padrões. O código está misturado, a UI acessa o banco e bugs visuais corrompem dados. Sua missão é organizar a casa.",
    "dominantPattern": "Layers",
    "questions": [
      {
        "id": "q1_mixed",
        "title": "O Código Misturado",
        "problem": "Um programador alterou a cor de um botão e acidentalmente quebrou a validação de senha, pois a lógica de UI e de Negócio estavam no mesmo arquivo.",
        "correctId": "camadas",
        "wrongOptions": ["client_server", "microkernel", "pipe_filter"],
        "reason": "A Arquitetura em Camadas separa Apresentação, Negócio e Dados, evitando que alterações visuais afetem regras críticas.",
        "difficulty": "easy"
      },
      {
        "id": "q2_untestable",
        "title": "A Lógica Intestável",
        "problem": "A equipe de QA não consegue testar o cálculo de juros sem subir o banco de dados e a interface web completa.",
        "correctId": "camadas",
        "wrongOptions": ["mvc", "broker", "p2p"],
        "reason": "Isolar a lógica de negócio em uma camada própria permite testes unitários rápidos sem dependências externas.",
        "difficulty": "easy"
      },
      {
        "id": "q3_spreadsheet",
        "title": "A Planilha do Caos",
        "problem": "Dois vendedores tentam salvar dados na mesma planilha Excel compartilhada na rede, sobrescrevendo o trabalho um do outro.",
        "correctId": "client_server",
        "wrongOptions": ["pipe_filter", "soa", "facade"],
        "reason": "O modelo Cliente-Servidor centraliza os dados e gerencia a concorrência de múltiplos acessos.",
        "difficulty": "easy"
      }
    ]
  },
  {
    "id": "p2_commercial",
    "title": "Centro Comercial",
    "subtitle": "O Monstro de Uma Tela Só",
    "theme": "corporate",
    "requiredScore": 100,
    "narrativeIntro": "Promoção concedida. Agora você lida com sistemas corporativos legados. O problema aqui é interfaces gigantescas acopladas diretamente aos dados, tornando a manutenção um pesadelo.",
    "dominantPattern": "MVC",
    "questions": [
      {
        "id": "q4_giant_file",
        "title": "O Arquivo de 5.000 Linhas",
        "problem": "Uma única página web contém HTML, Validação de CPF e Comandos SQL. Qualquer mudança é arriscada.",
        "correctId": "mvc",
        "wrongOptions": ["camadas", "microkernel", "proxy"],
        "reason": "O MVC separa Model (dados), View (interface) e Controller (fluxo), organizando o caos da interface.",
        "difficulty": "medium"
      },
      {
        "id": "q5_video_proc",
        "title": "Processador Inflexível",
        "problem": "Uma função gigante faz: resize, marca d'água e compressão de vídeo. O cliente quer agora só marca d'água, mas é impossível separar.",
        "correctId": "pipe_filter",
        "wrongOptions": ["mvc", "eda", "saga"],
        "reason": "Pipe and Filter divide o processamento em etapas independentes que podem ser recombinadas.",
        "difficulty": "medium"
      },
      {
        "id": "q17_ghost_image",
        "title": "A Imagem Fantasma",
        "problem": "Uma página carrega 100 fotos de alta resolução de uma vez, travando o navegador do usuário.",
        "correctId": "proxy",
        "wrongOptions": ["adapter", "facade", "singleton"],
        "reason": "O Virtual Proxy permite Lazy Loading, carregando as imagens pesadas apenas quando necessário.",
        "difficulty": "medium"
      }
    ]
  },
  {
    "id": "p3_industrial",
    "title": "Distrito Industrial",
    "subtitle": "A Integração Infernal",
    "theme": "legacy",
    "requiredScore": 150,
    "narrativeIntro": "Bem-vindo ao parque industrial. Aqui, sistemas de décadas diferentes tentam conversar. É uma teia de aranha de integrações ponto-a-ponto que falham em cascata.",
    "dominantPattern": "Integration",
    "questions": [
      {
        "id": "q7_point_to_point",
        "title": "A Teia de Aranha",
        "problem": "O RH chama o Financeiro, que chama Vendas. Se um cai, todos caem. Adicionar um novo sistema exige mexer em todos os outros.",
        "correctId": "soa",
        "wrongOptions": ["mvc", "microkernel", "p2p"],
        "reason": "SOA (ou um Barramento) centraliza e padroniza a integração, evitando o acoplamento ponto-a-ponto.",
        "difficulty": "hard"
      },
      {
        "id": "q15_xml_json",
        "title": "O Tradutor Universal",
        "problem": "O sistema moderno fala JSON. O legado fala XML. Eles não se entendem e a integração falha.",
        "correctId": "adapter",
        "wrongOptions": ["facade", "proxy", "bridge"],
        "reason": "O Adapter traduz a interface de um componente para o formato esperado pelo outro.",
        "difficulty": "medium"
      },
      {
        "id": "q16_facade",
        "title": "Muitas Chamadas",
        "problem": "O App Mobile precisa fazer 8 chamadas diferentes para montar a tela inicial, ficando lento e gastando bateria.",
        "correctId": "facade",
        "wrongOptions": ["adapter", "singleton", "observer"],
        "reason": "A Facade cria uma interface simplificada e única que agrupa as chamadas complexas do backend.",
        "difficulty": "medium"
      },
      {
        "id": "q11_queue",
        "title": "A Fila de Tarefas",
        "problem": "O usuário faz upload de uma foto e fica preso na tela de carregamento por 30 segundos esperando o processamento.",
        "correctId": "broker",
        "wrongOptions": ["mvc", "client_server", "p2p"],
        "reason": "O Broker (Message Queue) desacopla o envio do processamento, liberando o usuário imediatamente.",
        "difficulty": "medium"
      }
    ]
  },
  {
    "id": "p4_digital",
    "title": "Distrito Digital",
    "subtitle": "Escala ou Morte",
    "theme": "cloud",
    "requiredScore": 150,
    "narrativeIntro": "O App da ArchPatterns City viralizou. Temos milhões de acessos simultâneos. O servidor central está derretendo. Precisamos de escalabilidade elástica e desacoplamento total.",
    "dominantPattern": "Distributed",
    "questions": [
      {
        "id": "q9_success_crash",
        "title": "Vítima do Sucesso",
        "problem": "O e-commerce caiu na Black Friday. O módulo de Cadastro travou e derrubou o Pagamento junto, pois era tudo um bloco só.",
        "correctId": "microsservicos",
        "wrongOptions": ["soa", "client_server", "monolith"],
        "reason": "Microsserviços permitem escalar e isolar partes do sistema (ex: escalar só o Pagamento) independentemente.",
        "difficulty": "hard"
      },
      {
        "id": "q6_async_buy",
        "title": "A Compra Travada",
        "problem": "O usuário clica em 'Comprar' e espera 10 segundos porque o sistema de Email está lento. O processo é síncrono demais.",
        "correctId": "eda",
        "wrongOptions": ["mvc", "pipe_filter", "proxy"],
        "reason": "Arquitetura Orientada a Eventos (EDA) permite processamento assíncrono: 'Pedido Criado' -> libera o usuário -> envia email depois.",
        "difficulty": "hard"
      },
      {
        "id": "q8_feed",
        "title": "Feed de Notícias",
        "problem": "O publicador de notícias precisa saber a lista exata de todos os assinantes (Esporte, Política). Se adicionar uma categoria nova, quebra o publicador.",
        "correctId": "pub_sub",
        "wrongOptions": ["observer", "mediator", "chain"],
        "reason": "Publish-Subscribe desacopla quem envia de quem recebe através de tópicos.",
        "difficulty": "hard"
      },
      {
        "id": "q12_p2p",
        "title": "Servidor Caro",
        "problem": "Distribuir um arquivo de 50GB para 1 milhão de usuários vai falir a empresa em custos de banda de servidor.",
        "correctId": "p2p",
        "wrongOptions": ["client_server", "broker", "master_slave"],
        "reason": "Peer-to-Peer usa a banda dos próprios usuários para distribuir o conteúdo, aliviando o servidor central.",
        "difficulty": "hard"
      }
    ]
  },
  {
    "id": "p5_tower",
    "title": "Torre Central",
    "subtitle": "O Caos da Coordenação",
    "theme": "governance",
    "requiredScore": 200,
    "narrativeIntro": "Você chegou ao topo. A Torre de Controle gerencia sistemas críticos de aviação e bancários. Aqui, um erro de coordenação custa vidas ou bilhões. Proteja o núcleo a todo custo.",
    "dominantPattern": "Orchestration",
    "questions": [
      {
        "id": "q18_air_control",
        "title": "Torre de Controle",
        "problem": "Vários aviões querem pousar. Se eles conversarem entre si para decidir quem vai primeiro, haverá colisão.",
        "correctId": "mediator",
        "wrongOptions": ["observer", "facade", "proxy"],
        "reason": "O Mediator centraliza a comunicação complexa muitos-para-muitos, coordenando o fluxo.",
        "difficulty": "hard"
      },
      {
        "id": "q14_saga",
        "title": "Transação Interminável",
        "problem": "Em microserviços, precisamos debitar saldo, reservar estoque e emitir nota. Se a nota falhar, como desfazer os passos anteriores sem travar o banco?",
        "correctId": "saga",
        "wrongOptions": ["two_phase_commit", "singleton", "memento"],
        "reason": "Saga Pattern gerencia transações distribuídas através de uma sequência de eventos e ações de compensação (undo).",
        "difficulty": "hard"
      },
      {
        "id": "q13_hexagonal",
        "title": "O Coração Isolado",
        "problem": "Queremos testar a regra de negócio pura, mas o código está cheio de 'import HTTP' e 'import SQL'.",
        "correctId": "hexagonal",
        "wrongOptions": ["mvc", "layers", "microkernel"],
        "reason": "Arquitetura Hexagonal (Ports & Adapters) blinda o domínio (núcleo), permitindo que ele funcione sem saber se vem da Web ou do Teste.",
        "difficulty": "hard"
      },
      {
        "id": "q20_ai_recog",
        "title": "Reconhecimento Impossível",
        "problem": "Um sistema de IA precisa reconhecer texto manuscrito, mas nenhum algoritmo sozinho é bom o suficiente. Eles precisam colaborar.",
        "correctId": "blackboard",
        "wrongOptions": ["strategy", "chain", "visitor"],
        "reason": "O Blackboard permite que vários agentes especialistas contribuam parcialmente para resolver um problema complexo e não determinístico.",
        "difficulty": "hard"
      }
    ]
  }
]