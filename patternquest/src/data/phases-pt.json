[
  {
    "id": "p1_garage",
    "title": "Distrito da Garagem",
    "subtitle": "O Código Sem Fronteiras",
    "theme": "garage",
    "requiredScore": 50,
    "narrativeIntro": "Bem-vindo à ArchPatterns City, Investigador. Sua jornada começa numa startup de garagem. O time cresceu rápido e ignorou padrões. O código está misturado, a UI acessa o banco e bugs visuais corrompem dados. Sua missão é organizar a casa.",
    "dominantPattern": "Layers",
    "questions": [
      {
        "id": "q1_mixed",
        "title": "O Código Misturado",
        "problem": "Um programador foi solicitado a alterar a cor de um botão na tela de login. Para fazer isso, ele precisou editar arquivos que também continham lógica de validação de senha e comandos de banco de dados. A simples mudança visual acabou gerando um bug que corrompeu dados.",
        "correctId": "camadas",
        "wrongOptions": ["client_server", "microkernel", "pipe_filter"],
        "reason": "A Arquitetura em Camadas separa Apresentação, Negócio e Dados, evitando que alterações visuais afetem regras críticas ou dados.",
        "difficulty": "easy"
      },
      {
        "id": "q2_untestable",
        "title": "A Lógica Intestável",
        "problem": "Uma equipe de testes precisa validar uma regra de cálculo de juros, mas ela está implementada dentro do código do botão da interface, exigindo banco e servidor ativos para funcionar.",
        "correctId": "camadas",
        "wrongOptions": ["mvc", "broker", "p2p"],
        "reason": "Isolar a lógica de negócio em uma camada própria permite testes unitários sem depender da interface ou banco.",
        "difficulty": "easy"
      },
      {
        "id": "q3_spreadsheet",
        "title": "A Planilha do Caos",
        "problem": "Uma empresa gerencia seus clientes em uma única planilha compartilhada. Quando dois vendedores salvam ao mesmo tempo, um sobrescreve o trabalho do outro.",
        "correctId": "client_server",
        "wrongOptions": ["pipe_filter", "soa", "facade"],
        "reason": "Cliente-Servidor centraliza os dados e controla concorrência de múltiplos acessos.",
        "difficulty": "easy"
      },
      {
        "id": "q21_business_rule_dup",
        "title": "Regra Duplicada",
        "problem": "A mesma regra de cálculo de desconto foi implementada tanto na tela quanto no backend, e agora os valores divergem.",
        "correctId": "camadas",
        "wrongOptions": ["mvc", "proxy", "p2p"],
        "reason": "Separar responsabilidades em camadas evita duplicação de regras de negócio.",
        "difficulty": "easy"
      },
      {
        "id": "q22_direct_db_ui",
        "title": "A Tela Curiosa",
        "problem": "A interface faz consultas SQL diretamente para montar relatórios.",
        "correctId": "camadas",
        "wrongOptions": ["broker", "microkernel", "pipe_filter"],
        "reason": "A camada de apresentação não deve acessar dados diretamente.",
        "difficulty": "easy"
      },
      {
        "id": "q23_local_files",
        "title": "Arquivos Locais Compartilhados",
        "problem": "Funcionários compartilham arquivos JSON por e-mail para sincronizar dados.",
        "correctId": "client_server",
        "wrongOptions": ["p2p", "mvc", "adapter"],
        "reason": "Cliente-Servidor centraliza dados evitando inconsistência.",
        "difficulty": "easy"
      }
    ]
  },
  {
    "id": "p2_commercial",
    "title": "Centro Comercial",
    "subtitle": "Interfaces Monstruosas",
    "theme": "corporate",
    "requiredScore": 100,
    "narrativeIntro": "Você foi promovido. Agora enfrenta sistemas corporativos com telas gigantes e código impossível de manter. Separar responsabilidades é questão de sobrevivência.",
    "dominantPattern": "Separation",
    "questions": [
      {
        "id": "q4_giant_file",
        "title": "O Arquivo de 5.000 Linhas",
        "problem": "Uma única página web contém HTML, validação de CPF e comandos SQL. Qualquer alteração é arriscada.",
        "correctId": "mvc",
        "wrongOptions": ["camadas", "microkernel", "proxy"],
        "reason": "MVC separa Model, View e Controller, reduzindo acoplamento e facilitando manutenção.",
        "difficulty": "medium"
      },
      {
        "id": "q5_video_proc",
        "title": "O Processador Inflexível",
        "problem": "Uma única função realiza resize, marca d'água e compressão de vídeo. O cliente quer usar apenas uma dessas funções.",
        "correctId": "pipe_filter",
        "wrongOptions": ["mvc", "eda", "saga"],
        "reason": "Pipe and Filter divide processamento em filtros independentes e reutilizáveis.",
        "difficulty": "medium"
      },
      {
        "id": "q17_proxy",
        "title": "A Imagem Fantasma",
        "problem": "Uma página carrega 100 imagens de alta resolução de uma vez, demorando minutos para abrir.",
        "correctId": "proxy",
        "wrongOptions": ["adapter", "facade", "singleton"],
        "reason": "O Proxy permite Lazy Loading de objetos pesados.",
        "difficulty": "medium"
      },
      {
        "id": "q10_microkernel",
        "title": "O Navegador Instável",
        "problem": "Um novo navegador quer manter o núcleo pequeno, mas adicionar bloqueador de anúncios e tradutor pode comprometer estabilidade.",
        "correctId": "microkernel",
        "wrongOptions": ["mvc", "layers", "broker"],
        "reason": "Microkernel mantém núcleo mínimo e adiciona funcionalidades como plugins.",
        "difficulty": "medium"
      },
      {
        "id": "q24_controller_bloat",
        "title": "Controller Inchado",
        "problem": "O Controller contém regras de negócio complexas e lógica de persistência.",
        "correctId": "mvc",
        "wrongOptions": ["layers", "microkernel", "broker"],
        "reason": "No MVC, o Controller coordena, mas regras devem estar no Model.",
        "difficulty": "medium"
      },
      {
        "id": "q25_pipeline_reuse",
        "title": "Etapas Reutilizáveis",
        "problem": "Um sistema de dados precisa aplicar validação, normalização e criptografia em sequência reutilizável.",
        "correctId": "pipe_filter",
        "wrongOptions": ["mvc", "facade", "adapter"],
        "reason": "Pipe and Filter permite compor etapas independentes.",
        "difficulty": "medium"
      },
      {
        "id": "q26_heavy_object",
        "title": "Objeto Pesado",
        "problem": "Um relatório leva 10 segundos para carregar, mesmo quando o usuário não o visualiza.",
        "correctId": "proxy",
        "wrongOptions": ["singleton", "observer", "layers"],
        "reason": "Proxy pode adiar a criação de objetos custosos (lazy loading).",
        "difficulty": "medium"
      },
      {
        "id": "q27_plugin_system",
        "title": "Sistema Extensível",
        "problem": "Clientes querem adicionar módulos personalizados sem modificar o núcleo do sistema.",
        "correctId": "microkernel",
        "wrongOptions": ["mvc", "broker", "p2p"],
        "reason": "Microkernel suporta extensões via plugins.",
        "difficulty": "medium"
      }
    ]
  },
  {
    "id": "p3_industrial",
    "title": "Distrito Industrial",
    "subtitle": "Integrações em Guerra",
    "theme": "legacy",
    "requiredScore": 150,
    "narrativeIntro": "Aqui vivem os sistemas legados. Integrações frágeis e dependências diretas causam falhas em cascata.",
    "dominantPattern": "Integration",
    "questions": [
      {
        "id": "q7_soa",
        "title": "Integração Ponto a Ponto",
        "problem": "RH precisa chamar Finanças e Vendas diretamente. Se um falha, todo o processo para.",
        "correctId": "soa",
        "wrongOptions": ["mvc", "microkernel", "p2p"],
        "reason": "SOA integra sistemas por serviços orquestrados, evitando dependências diretas.",
        "difficulty": "hard"
      },
      {
        "id": "q19_bus",
        "title": "O Barramento Corporativo",
        "problem": "Dezenas de sistemas estão conectados ponto a ponto, gerando caos de integrações frágeis.",
        "correctId": "message_bus",
        "wrongOptions": ["client_server", "layers", "proxy"],
        "reason": "Message Bus padroniza comunicação entre sistemas.",
        "difficulty": "hard"
      },
      {
        "id": "q15_adapter",
        "title": "O Legado que Recebe XML",
        "problem": "Sistema novo envia JSON, mas legado aceita apenas XML.",
        "correctId": "adapter",
        "wrongOptions": ["facade", "proxy", "bridge"],
        "reason": "Adapter traduz interfaces incompatíveis.",
        "difficulty": "medium"
      },
      {
        "id": "q11_broker",
        "title": "A Fila de Tarefas",
        "problem": "Usuário faz upload e precisa esperar 30 segundos pelo processamento.",
        "correctId": "broker",
        "wrongOptions": ["mvc", "client_server", "p2p"],
        "reason": "Broker usa filas para desacoplar produtor e consumidor.",
        "difficulty": "medium"
      },
      {
        "id": "q28_async_processing",
        "title": "Processamento em Segundo Plano",
        "problem": "Um sistema precisa processar milhares de requisições longas sem bloquear usuários.",
        "correctId": "broker",
        "wrongOptions": ["mvc", "layers", "proxy"],
        "reason": "Filas desacoplam envio de processamento.",
        "difficulty": "medium"
      },
      {
        "id": "q29_standard_integration",
        "title": "Contrato Padronizado",
        "problem": "Sistemas heterogêneos precisam integrar via contratos bem definidos.",
        "correctId": "soa",
        "wrongOptions": ["mvc", "p2p", "pipe_filter"],
        "reason": "SOA usa contratos de serviço padronizados.",
        "difficulty": "hard"
      },
      {
        "id": "q30_event_notification",
        "title": "Notificação Desacoplada",
        "problem": "Vários sistemas precisam reagir quando um pedido é criado.",
        "correctId": "pub_sub",
        "wrongOptions": ["facade", "proxy", "mvc"],
        "reason": "Publish-Subscribe permite múltiplos assinantes reagirem a eventos.",
        "difficulty": "hard"
      },
      {
        "id": "q31_format_bridge",
        "title": "Formato Incompatível",
        "problem": "API externa usa protocolo diferente do interno.",
        "correctId": "adapter",
        "wrongOptions": ["bridge", "proxy", "observer"],
        "reason": "Adapter converte interfaces incompatíveis.",
        "difficulty": "medium"
      }
    ]
  },
  {
    "id": "p4_digital",
    "title": "Distrito Digital",
    "subtitle": "Escala ou Colapso",
    "theme": "cloud",
    "requiredScore": 180,
    "narrativeIntro": "A cidade digital cresceu exponencialmente. Agora precisamos escalar sem derrubar tudo.",
    "dominantPattern": "Distributed",
    "questions": [
      {
        "id": "q9_microservices",
        "title": "O Sistema que Não Aguentou o Sucesso",
        "problem": "O aplicativo explodiu em popularidade e o sistema inteiro congela nos picos.",
        "correctId": "microsservicos",
        "wrongOptions": ["soa", "client_server", "monolith"],
        "reason": "Microsserviços permitem escalar partes do sistema independentemente.",
        "difficulty": "hard"
      },
      {
        "id": "q6_eda",
        "title": "A Compra Travada",
        "problem": "Se o sistema de Email falha, a compra inteira falha.",
        "correctId": "eda",
        "wrongOptions": ["mvc", "pipe_filter", "proxy"],
        "reason": "EDA desacopla sistemas via comunicação assíncrona.",
        "difficulty": "hard"
      },
      {
        "id": "q8_pubsub",
        "title": "Feed de Notícias Inflexível",
        "problem": "Publicador precisa conhecer todos os assinantes e quebra ao adicionar novos.",
        "correctId": "pub_sub",
        "wrongOptions": ["observer", "mediator", "chain"],
        "reason": "Publish–Subscribe desacopla publicadores e assinantes por tópicos.",
        "difficulty": "hard"
      },
      {
        "id": "q12_p2p",
        "title": "Servidor Sobrecarregado",
        "problem": "Distribuir arquivo enorme para milhões sobrecarrega servidor central.",
        "correctId": "p2p",
        "wrongOptions": ["client_server", "broker", "master_slave"],
        "reason": "Peer-to-Peer distribui carga entre usuários.",
        "difficulty": "hard"
      },
      {
        "id": "q32_scaling_component",
        "title": "Escala Parcial",
        "problem": "Apenas o módulo de pagamentos precisa escalar durante picos.",
        "correctId": "microsservicos",
        "wrongOptions": ["soa", "monolith", "client_server"],
        "reason": "Microsserviços permitem escalar componentes individualmente.",
        "difficulty": "hard"
      },
      {
        "id": "q33_event_driven",
        "title": "Sistema Reativo",
        "problem": "Serviços precisam reagir a mudanças sem dependência direta.",
        "correctId": "eda",
        "wrongOptions": ["mvc", "layers", "proxy"],
        "reason": "EDA promove desacoplamento via eventos.",
        "difficulty": "hard"
      },
      {
        "id": "q34_data_sharing",
        "title": "Distribuição de Arquivos",
        "problem": "Usuários compartilham arquivos grandes entre si para reduzir custo.",
        "correctId": "p2p",
        "wrongOptions": ["client_server", "broker", "mvc"],
        "reason": "Peer-to-Peer distribui carga entre participantes.",
        "difficulty": "hard"
      },
      {
        "id": "q35_message_backbone",
        "title": "Espinha Dorsal de Mensagens",
        "problem": "Empresa quer backbone único para integração entre múltiplos sistemas.",
        "correctId": "message_bus",
        "wrongOptions": ["layers", "proxy", "singleton"],
        "reason": "Message Bus padroniza comunicação corporativa.",
        "difficulty": "hard"
      }
    ]
  },
  {
    "id": "p5_tower",
    "title": "Torre Central",
    "subtitle": "Coordenação Crítica",
    "theme": "governance",
    "requiredScore": 220,
    "narrativeIntro": "No topo da cidade estão os sistemas críticos. Coordenação e isolamento do núcleo são essenciais.",
    "dominantPattern": "Coordination",
    "questions": [
      {
        "id": "q18_mediator",
        "title": "A Torre de Controle Aéreo",
        "problem": "Aviões tentando coordenar pouso diretamente entre si podem colidir.",
        "correctId": "mediator",
        "wrongOptions": ["observer", "facade", "proxy"],
        "reason": "Mediator centraliza coordenação de múltiplas interações.",
        "difficulty": "hard"
      },
      {
        "id": "q14_saga",
        "title": "A Transação Interminável",
        "problem": "Se envio de e-mail falha, toda compra sofre rollback desnecessariamente.",
        "correctId": "saga",
        "wrongOptions": ["two_phase_commit", "singleton", "memento"],
        "reason": "Saga divide transações em etapas com compensações.",
        "difficulty": "hard"
      },
      {
        "id": "q13_hexagonal",
        "title": "O Coração Isolado",
        "problem": "Lógica de negócio depende diretamente de HTTP e SQL.",
        "correctId": "hexagonal",
        "wrongOptions": ["mvc", "layers", "microkernel"],
        "reason": "Arquitetura Hexagonal isola o núcleo da aplicação das tecnologias externas.",
        "difficulty": "hard"
      },
      {
        "id": "q20_blackboard",
        "title": "Reconhecimento Impossível",
        "problem": "Nenhum algoritmo sozinho resolve o reconhecimento de texto manuscrito.",
        "correctId": "blackboard",
        "wrongOptions": ["strategy", "chain", "visitor"],
        "reason": "Blackboard permite que múltiplos especialistas cooperem para solução emergente.",
        "difficulty": "hard"
      },
      {
        "id": "q32_scaling_component",
        "title": "Escala Parcial",
        "problem": "Apenas o módulo de pagamentos precisa escalar durante picos.",
        "correctId": "microsservicos",
        "wrongOptions": ["soa", "monolith", "client_server"],
        "reason": "Microsserviços permitem escalar componentes individualmente.",
        "difficulty": "hard"
      },
      {
        "id": "q33_event_driven",
        "title": "Sistema Reativo",
        "problem": "Serviços precisam reagir a mudanças sem dependência direta.",
        "correctId": "eda",
        "wrongOptions": ["mvc", "layers", "proxy"],
        "reason": "EDA promove desacoplamento via eventos.",
        "difficulty": "hard"
      },
      {
        "id": "q34_data_sharing",
        "title": "Distribuição de Arquivos",
        "problem": "Usuários compartilham arquivos grandes entre si para reduzir custo.",
        "correctId": "p2p",
        "wrongOptions": ["client_server", "broker", "mvc"],
        "reason": "Peer-to-Peer distribui carga entre participantes.",
        "difficulty": "hard"
      },
      {
        "id": "q35_message_backbone",
        "title": "Espinha Dorsal de Mensagens",
        "problem": "Empresa quer backbone único para integração entre múltiplos sistemas.",
        "correctId": "message_bus",
        "wrongOptions": ["layers", "proxy", "singleton"],
        "reason": "Message Bus padroniza comunicação corporativa.",
        "difficulty": "hard"
      }
    ]
  }
]